<script>
  document.addEventListener('DOMContentLoaded', promptUser);

  function promptUser() {
    let zipCode;

    if (!zipCode) {
      zipCode = window.prompt('Please enter your zip code to get your weather:');
    }

    var req = new XMLHttpRequest();

    req.open('GET', '/tofi-home?zipCode=', + zipCode, true);
    req.setRequestHeader('Content-Type', 'application/json');
    req.send(null);
    req.addEventListener('load', function () {
      if (req.status >= 200 && req.status < 400) {
        window.location.href = '/tofi-home?zipCode=' + zipCode;
      } else {
        console.log('error');
      }
    })
  }
</script>